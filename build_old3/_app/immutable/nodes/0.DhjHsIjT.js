import{q as U,s as B,n as C,c as p,v as ne,k as oe,u as se,l as ie,m as re}from"../chunks/lFpNJOUe.js";import{S as F,i as H,d as _,b as V,p as ae,B as g,o as T,a as w,c as le,h as ce,K as P,L as Q,k as me,l as q,m as A,n as de,q as ue,g as fe,u as he,j as ge}from"../chunks/CWPxnNIj.js";import{w as h,d as j}from"../chunks/CbUAxEtK.js";let z,D;function G(o){if(typeof document>"u")return;clearTimeout(z),clearTimeout(D);const e=document.createElement("style"),n=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);e.appendChild(n);const t=()=>document.head.appendChild(e),i=()=>document.head.removeChild(e);if(typeof window.getComputedStyle<"u"){t(),o(),window.getComputedStyle(e).opacity,i();return}if(typeof window.requestAnimationFrame<"u"){t(),o(),window.requestAnimationFrame(i);return}t(),z=window.setTimeout(()=>{o(),D=window.setTimeout(i,120)},120)}function J(o){return o.filter(e=>e.length>0)}const R={getItem:o=>null,setItem:(o,e)=>{}},y=typeof document<"u",ye=["dark","light","system"],M=h("mode-watcher-mode"),E=h("mode-watcher-theme"),W=be(),K=ke(),X=h(void 0),Y=we(),L=h(!0),Z=h([]),x=h([]),_e=Te(),Se=Ce();function be(){const o="system",e=y?localStorage:R,n=e.getItem(i());let t=v(n)?n:o;function i(){return U(M)}const{subscribe:r,set:s}=h(t,()=>{if(!y)return;const l=m=>{if(m.key!==i())return;const u=m.newValue;v(u)?s(t=u):s(t=o)};return addEventListener("storage",l),()=>removeEventListener("storage",l)});function a(l){s(t=l),e.setItem(i(),t)}return{subscribe:r,set:a}}function we(){const o=y?localStorage:R,e=o.getItem(t());let n=e??"";function t(){return U(E)}const{subscribe:i,set:r}=h(n,()=>{if(!y)return;const a=l=>{if(l.key!==t())return;const m=l.newValue;r(m===null?n="":n=m)};return addEventListener("storage",a),()=>removeEventListener("storage",a)});function s(a){r(n=a),o.setItem(t(),n)}return{subscribe:i,set:s}}function ke(){let e=!0;const{subscribe:n,set:t}=h(void 0,()=>{if(!y)return;const s=l=>{e&&t(l.matches?"light":"dark")},a=window.matchMedia("(prefers-color-scheme: light)");return a.addEventListener("change",s),()=>a.removeEventListener("change",s)});function i(){if(!y)return;const s=window.matchMedia("(prefers-color-scheme: light)");t(s.matches?"light":"dark")}function r(s){e=s}return{subscribe:n,query:i,tracking:r}}function Te(){const{subscribe:o}=j([W,K,X,L,Z,x],([e,n,t,i,r,s])=>{if(!y)return;const a=e==="system"?n:e,l=J(r),m=J(s);function u(){const d=document.documentElement,f=document.querySelector('meta[name="theme-color"]');a==="light"?(l.length&&d.classList.remove(...l),m.length&&d.classList.add(...m),d.style.colorScheme="light",f&&t&&f.setAttribute("content",t.light)):(m.length&&d.classList.remove(...m),l.length&&d.classList.add(...l),d.style.colorScheme="dark",f&&t&&f.setAttribute("content",t.dark))}return i?G(u):u(),a});return{subscribe:o}}function Ce(){const{subscribe:o}=j([Y,L],([e,n])=>{if(!y)return;function t(){document.documentElement.setAttribute("data-theme",e)}return n?G(t):t(),e});return{subscribe:o}}function v(o){return typeof o!="string"?!1:ye.includes(o)}function Me(o){W.set(o)}function Ee(o){Y.set(o)}function N({defaultMode:o,themeColors:e,darkClassNames:n=["dark"],lightClassNames:t=[],defaultTheme:i=""}){const r=document.documentElement,s=localStorage.getItem("mode-watcher-mode")||o,a=localStorage.getItem("mode-watcher-theme")||i,l=s==="light"||s==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(l?(n.length&&r.classList.remove(...n),t.length&&r.classList.add(...t)):(t.length&&r.classList.remove(...t),n.length&&r.classList.add(...n)),r.style.colorScheme=l?"light":"dark",e){const m=document.querySelector('meta[name="theme-color"]');m&&m.setAttribute("content",s==="light"?e.light:e.dark)}a&&(r.setAttribute("data-theme",a),localStorage.setItem("mode-watcher-theme",a)),localStorage.setItem("mode-watcher-mode",s)}function O(o){let e,n;return{c(){e=ce("meta"),this.h()},l(t){e=le(t,"META",{name:!0,content:!0}),this.h()},h(){T(e,"name","theme-color"),T(e,"content",n=o[0].dark)},m(t,i){w(t,e,i)},p(t,i){i&1&&n!==(n=t[0].dark)&&T(e,"content",n)},d(t){t&&_(e)}}}function Ke(o){let e,n="<script>("+N.toString()+")("+JSON.stringify(o[2])+");<\/script>",t;return{c(){e=new Q(!1),t=g(),this.h()},l(i){e=P(i,!1),t=g(),this.h()},h(){e.a=t},m(i,r){e.m(n,i,r),w(i,t,r)},p:C,d(i){i&&(_(t),e.d())}}}function ve(o){let e,n=`<script nonce=${o[1]}>(`+N.toString()+")("+JSON.stringify(o[2])+");<\/script>",t;return{c(){e=new Q(!1),t=g(),this.h()},l(i){e=P(i,!1),t=g(),this.h()},h(){e.a=t},m(i,r){e.m(n,i,r),w(i,t,r)},p(i,r){r&2&&n!==(n=`<script nonce=${i[1]}>(`+N.toString()+")("+JSON.stringify(i[2])+");<\/script>")&&e.p(n)},d(i){i&&(_(t),e.d())}}}function Ne(o){let e,n,t=o[0]&&O(o);function i(a,l){return a[1]?ve:Ke}let r=i(o),s=r(o);return{c(){t&&t.c(),e=g(),s.c(),n=g()},l(a){const l=ae("svelte-1nen96w",document.head);t&&t.l(l),e=g(),s.l(l),n=g(),l.forEach(_)},m(a,l){t&&t.m(document.head,null),V(document.head,e),s.m(document.head,null),V(document.head,n)},p(a,[l]){a[0]?t?t.p(a,l):(t=O(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),r===(r=i(a))&&s?s.p(a,l):(s.d(1),s=r(a),s&&(s.c(),s.m(n.parentNode,n)))},i:C,o:C,d(a){t&&t.d(a),_(e),s.d(a),_(n)}}}function Le(o,e,n){let t,i,r;p(o,E,c=>n(12,i=c)),p(o,M,c=>n(13,r=c));let{track:s=!0}=e,{defaultMode:a="system"}=e,{themeColors:l=void 0}=e,{disableTransitions:m=!0}=e,{darkClassNames:u=["dark"]}=e,{lightClassNames:d=[]}=e,{defaultTheme:f=""}=e,{nonce:k=""}=e,{themeStorageKey:S="mode-watcher-theme"}=e,{modeStorageKey:b="mode-watcher-mode"}=e;ne(()=>{const c=_e.subscribe(()=>{}),ee=Se.subscribe(()=>{});K.tracking(s),K.query();const I=localStorage.getItem(r);Me(v(I)?I:a);const te=localStorage.getItem(i);return Ee(te||f),()=>{c(),ee()}});const $={defaultMode:a,themeColors:l,darkClassNames:u,lightClassNames:d,defaultTheme:f,modeStorageKey:b,themeStorageKey:S};return o.$$set=c=>{"track"in c&&n(3,s=c.track),"defaultMode"in c&&n(4,a=c.defaultMode),"themeColors"in c&&n(0,l=c.themeColors),"disableTransitions"in c&&n(5,m=c.disableTransitions),"darkClassNames"in c&&n(6,u=c.darkClassNames),"lightClassNames"in c&&n(7,d=c.lightClassNames),"defaultTheme"in c&&n(8,f=c.defaultTheme),"nonce"in c&&n(9,k=c.nonce),"themeStorageKey"in c&&n(10,S=c.themeStorageKey),"modeStorageKey"in c&&n(11,b=c.modeStorageKey)},o.$$.update=()=>{o.$$.dirty&32&&L.set(m),o.$$.dirty&1&&X.set(l),o.$$.dirty&64&&Z.set(u),o.$$.dirty&128&&x.set(d),o.$$.dirty&2048&&M.set(b),o.$$.dirty&1024&&E.set(S),o.$$.dirty&512&&n(1,t=typeof window>"u"?k:"")},[l,t,$,s,a,m,u,d,f,k,S,b]}class Ie extends F{constructor(e){super(),H(this,e,Le,Ne,B,{track:3,defaultMode:4,themeColors:0,disableTransitions:5,darkClassNames:6,lightClassNames:7,defaultTheme:8,nonce:9,themeStorageKey:10,modeStorageKey:11})}}function pe(o){let e,n,t;e=new Ie({});const i=o[1].default,r=oe(i,o,o[0],null);return{c(){he(e.$$.fragment),n=ge(),r&&r.c()},l(s){ue(e.$$.fragment,s),n=fe(s),r&&r.l(s)},m(s,a){de(e,s,a),w(s,n,a),r&&r.m(s,a),t=!0},p(s,[a]){r&&r.p&&(!t||a&1)&&se(r,i,s,s[0],t?re(i,s[0],a,null):ie(s[0]),null)},i(s){t||(A(e.$$.fragment,s),A(r,s),t=!0)},o(s){q(e.$$.fragment,s),q(r,s),t=!1},d(s){s&&_(n),me(e,s),r&&r.d(s)}}}function Ve(o,e,n){let{$$slots:t={},$$scope:i}=e;return o.$$set=r=>{"$$scope"in r&&n(0,i=r.$$scope)},[i,t]}class De extends F{constructor(e){super(),H(this,e,Ve,pe,B,{})}}export{De as component};
